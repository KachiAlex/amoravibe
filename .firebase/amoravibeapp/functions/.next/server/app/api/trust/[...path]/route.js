"use strict";(()=>{var e={};e.id=301,e.ids=[301],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2200:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>A,patchFetch:()=>y,requestAsyncStorage:()=>x,routeModule:()=>P,serverHooks:()=>v,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{DELETE:()=>T,GET:()=>c,PATCH:()=>h,POST:()=>l,PUT:()=>d});var s=r(63036),o=r(5736),n=r(15262),p=r(60942);let u=(0,r(17488).K)();async function i(e){try{let t;let r=e.nextUrl.pathname,a=e.nextUrl.search,s=r.replace(/^\/api\/trust/,""),o=`${u}${s}${a}`;console.info(`[Trust API Proxy] ${e.method} ${s} -> ${o}`);let n={};e.headers.forEach((e,t)=>{["host","connection"].includes(t.toLowerCase())||(n[t]=e)}),process.env.TRUST_API_KEY&&(n["x-api-key"]=process.env.TRUST_API_KEY);let i=e.method;("POST"===i||"PATCH"===i||"PUT"===i)&&(t=await e.text());let c=await fetch(o,{method:i,headers:n,body:t}),l=await c.text();return console.info(`[Trust API Proxy] ${e.method} ${s} <- ${c.status}`),new p.NextResponse(l,{status:c.status,statusText:c.statusText,headers:{"Content-Type":c.headers.get("content-type")||"application/json"}})}catch(e){return console.error("[Trust API Proxy] Error:",e),p.NextResponse.json({message:"Failed to reach trust service"},{status:503})}}let c=i,l=i,d=i,h=i,T=i,P=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/trust/[...path]/route",pathname:"/api/trust/[...path]",filename:"route",bundlePath:"app/api/trust/[...path]/route"},resolvedPagePath:"D:\\amoravibe\\apps\\web\\src\\app\\api\\trust\\[...path]\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:x,staticGenerationAsyncStorage:m,serverHooks:v}=P,A="/api/trust/[...path]/route";function y(){return(0,n.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:m})}},17488:(e,t,r)=>{r.d(t,{K:()=>a});let a=()=>(process.env.TRUST_API_PROXY_TARGET||"https://api-amoravibe.vercel.app").replace(/\/$/,"")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[522,746],()=>r(2200));module.exports=a})();