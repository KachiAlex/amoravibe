(()=>{var e={};e.id=359,e.ids=[359],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},35034:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},68631:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(46977),s(25757),s(87824);var a=s(93282),r=s(5736),i=s(93906),n=s.n(i),l=s(36880),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["matches",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,46977)),"D:\\amoravibe\\apps\\web\\src\\app\\matches\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,154))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,25757)),"D:\\amoravibe\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,87824,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,154))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["D:\\amoravibe\\apps\\web\\src\\app\\matches\\page.tsx"],x="/matches/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/matches/page",pathname:"/matches",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27076:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,40730,23)),Promise.resolve().then(s.t.bind(s,76568,23))},46977:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(99013),r=s(89282),i=s(17043),n=s(6787),l=s(16847),o=s(7394);async function c(e,t){try{return await l.A.fetchMatches({userId:e,limit:t})}catch(e){return console.error("Failed to load matches",e),null}}async function d(e){let t=await Promise.resolve(e.searchParams??{}),s=(0,o.Gg)(),i=t.userId??s?.userId??null,l=t.limit?Number(t.limit):void 0;if(!i)return a.jsx("main",{className:"mx-auto max-w-3xl px-6 py-24 text-center",children:(0,a.jsxs)(r.Zb,{className:"space-y-4",children:[a.jsx(r.Ct,{tone:"primary",className:"mx-auto w-fit bg-rose-500/10 text-rose-500",children:"Discovery"}),a.jsx("h1",{className:"font-display text-3xl text-ink-900",children:"Find your Lovedate orbit"}),a.jsx("p",{className:"text-ink-700",children:"You're not signed in yet. Complete onboarding so we can personalize your discovery queue automatically."}),(0,a.jsxs)("div",{className:"flex justify-center gap-3",children:[a.jsx(r.Tx,{asChild:!0,children:a.jsx(n.default,{href:"/onboarding",children:"Finish onboarding first"})}),a.jsx(r.Tx,{variant:"outline",asChild:!0,children:a.jsx(n.default,{href:"/dashboard",children:"View trust dashboard"})})]})]})});let d=await c(i,Number.isFinite(l)?l:void 0);return d?(0,a.jsxs)("main",{className:"space-y-10 px-6 pb-24 pt-12 sm:px-12 lg:px-20",children:[(0,a.jsxs)("section",{className:"mx-auto flex max-w-6xl flex-col gap-6 rounded-[36px] border border-white/40 bg-white/90 p-8 shadow-[0_30px_100px_rgba(13,15,26,0.12)] backdrop-blur",children:[(0,a.jsxs)("div",{children:[a.jsx(r.Ct,{tone:"primary",className:"mb-4 bg-purple-500/10 text-purple-600",children:"Discovery space"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"font-display text-4xl text-ink-900",children:"Your curated orbit"}),a.jsx("p",{className:"mt-2 max-w-2xl text-lg text-ink-700",children:"Lovedate surfaces members who share your discovery preferences, trust posture, and vibe. Keep an open mind and a respectful tone—our safety systems are always on."})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-ink-700/70",children:"Queue health"}),a.jsx("p",{className:"text-4xl font-semibold text-ink-900",children:d.length}),a.jsx("p",{className:"text-sm text-ink-600",children:"active introductions"})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-ink-700",children:[(0,a.jsxs)("span",{className:"rounded-full bg-white/70 px-4 py-2",children:["User ID ",i]}),(0,a.jsxs)("span",{className:"rounded-full bg-white/70 px-4 py-2",children:["Max batch ",l??12]}),a.jsx("span",{className:"rounded-full bg-white/70 px-4 py-2",children:"Signal aligned"})]})]}),a.jsx("section",{className:"mx-auto grid max-w-6xl gap-6 md:grid-cols-2 xl:grid-cols-3",children:0===d.length?(0,a.jsxs)(r.Zb,{className:"col-span-full space-y-3 text-center",children:[a.jsx("h2",{className:"font-display text-2xl text-ink-900",children:"No intros yet"}),a.jsx("p",{className:"text-ink-700",children:"Complete more of your profile or raise your trust score to see compatible members."}),a.jsx(r.Tx,{asChild:!0,children:a.jsx(n.default,{href:`/dashboard?userId=${encodeURIComponent(i)}`,children:"Tune trust signals"})})]}):d.map(e=>a.jsx(x,{match:e},e.id))})]}):a.jsx("main",{className:"mx-auto max-w-3xl px-6 py-24 text-center",children:(0,a.jsxs)(r.Zb,{className:"space-y-3",children:[a.jsx(r.Ct,{tone:"primary",className:"mx-auto w-fit bg-amber-500/10 text-amber-600",children:"Discovery paused"}),a.jsx("h1",{className:"font-display text-3xl text-ink-900",children:"We couldn’t load matches"}),a.jsx("p",{className:"text-ink-700",children:"Give it another go in a moment or retry onboarding."}),(0,a.jsxs)("div",{className:"flex justify-center gap-3",children:[a.jsx(r.Tx,{asChild:!0,children:a.jsx(n.default,{href:`/matches?userId=${encodeURIComponent(i)}`,children:"Refresh matches"})}),a.jsx(r.Tx,{variant:"outline",asChild:!0,children:a.jsx(n.default,{href:"/dashboard",children:"Trust dashboard"})})]})]})})}function x({match:e}){let t=e.photos[0],s=e.compatibilityScore>=75?"text-emerald-600":"text-ink-700";return(0,a.jsxs)(r.Zb,{className:"flex flex-col",children:[t?a.jsx("div",{className:"relative mb-4 aspect-[4/5] overflow-hidden rounded-3xl bg-sand-100",children:a.jsx(i.default,{src:t,alt:`${e.displayName} profile photo`,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}):a.jsx("div",{className:"mb-4 aspect-[4/5] rounded-3xl bg-gradient-to-br from-ink-900 to-ink-700"}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"font-display text-2xl text-ink-900",children:e.displayName}),a.jsx("p",{className:"text-sm text-ink-600",children:e.city})]}),(0,a.jsxs)("span",{className:`text-sm font-semibold ${s}`,children:[e.compatibilityScore,"% vibe match"]})]}),a.jsx("p",{className:"mt-3 flex-1 text-sm text-ink-700",children:e.bio??"This member prefers to reveal more in chat."}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2 text-xs text-ink-600",children:[a.jsx(p,{label:`Orientation • ${e.orientation}`}),a.jsx(p,{label:`Discovery • ${e.discoverySpace}`}),a.jsx(p,{label:e.isVerified?"Verified":"Pending verification"})]}),a.jsx(r.Tx,{className:"mt-6",children:"Request intro"})]})]})}function p({label:e}){return a.jsx("span",{className:"rounded-full bg-sand-100 px-3 py-1 font-medium text-ink-700",children:e})}},16847:(e,t,s)=>{"use strict";let a;s.d(t,{A:()=>n});var r=s(86803),i=s(17488);let n=(0,r.MI)({baseUrl:!(a=(0,i.K)())||a.startsWith("http://")||a.startsWith("https://")||a.startsWith("/")?a:`https://${a}`,apiKey:process.env.TRUST_API_KEY})},7394:(e,t,s)=>{"use strict";s.d(t,{Gg:()=>i,KY:()=>n,Ov:()=>l});var a=s(9362);let r="lovedate_session";function i(){let e=(0,a.cookies)(),t=e.get(r)?.value;if(!t)return null;try{return JSON.parse(t)}catch(t){return console.warn("Invalid session cookie, clearing it",t),e.delete(r),null}}function n(e){(0,a.cookies)().set(r,JSON.stringify(e),{httpOnly:!0,sameSite:"lax",secure:!0,maxAge:2592e3,path:"/"})}function l(){(0,a.cookies)().delete(r)}},17488:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});let a=()=>(process.env.TRUST_API_PROXY_TARGET||"https://api-amoravibe.vercel.app").replace(/\/$/,"")},154:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(87201);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[522,162,201,803,568,370,275,29],()=>s(68631));module.exports=a})();