(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{385:function(e,t,n){Promise.resolve().then(n.bind(n,6797)),Promise.resolve().then(n.bind(n,9750)),Promise.resolve().then(n.bind(n,335)),Promise.resolve().then(n.bind(n,8581)),Promise.resolve().then(n.bind(n,6071)),Promise.resolve().then(n.bind(n,897)),Promise.resolve().then(n.bind(n,697))},3986:function(e,t,n){"use strict";n.d(t,{Zb:function(){return b},Tx:function(){return m}});var s=n(7573),r=n(7653),i=n.t(r,2);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var a=Symbol.for("react.lazy"),d=i[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var o=function(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:n,...s}=e;if(c(n)&&"function"==typeof d&&(n=d(n._payload)),r.isValidElement(n)){var i;let e,a;let d=(i=n,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),c=function(e,t){let n={...t};for(let s in t){let r=e[s],i=t[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...e)=>{let t=i(...e);return r(...e),t}:r&&(n[s]=r):"style"===s?n[s]={...r,...i}:"className"===s&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}(s,n.props);return n.type!==r.Fragment&&(c.ref=t?function(...e){return t=>{let n=!1,s=e.map(e=>{let s=l(e,t);return n||"function"!=typeof s||(n=!0),s});if(n)return()=>{for(let t=0;t<s.length;t++){let n=s[t];"function"==typeof n?n():l(e[t],null)}}}}(t,d):d),r.cloneElement(n,c)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=r.forwardRef((e,n)=>{let{children:i,...l}=e;c(i)&&"function"==typeof d&&(i=d(i._payload));let a=r.Children.toArray(i),o=a.find(f);if(o){let e=o.props.children,i=a.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...l,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,i):null})}return(0,s.jsx)(t,{...l,ref:n,children:i})});return n.displayName=`${e}.Slot`,n}("Slot"),u=Symbol("radix.slottable");function f(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===u}function x(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}let h={solid:"bg-ink-900 text-sand-100 hover:bg-ink-700",outline:"border border-ink-900 text-ink-900 hover:bg-ink-900 hover:text-sand-100"},m=r.forwardRef((e,t)=>{let{variant:n="solid",className:r,asChild:i=!1,children:l,...a}=e,d=i?o:"button";return(0,s.jsx)(d,{className:x("rounded-full px-6 py-3 text-sm font-semibold transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-500",h[n],r),ref:t,...a,children:l})});m.displayName="PillButton";let p={surface:"border border-ink-900/10 bg-white/80 shadow-[0_20px_60px_rgba(13,15,26,0.08)]",highlight:"border border-white/40 bg-white/80 shadow-[0_30px_80px_rgba(13,15,26,0.12)] backdrop-blur"};function b(e){let{variant:t="surface",className:n,...r}=e;return(0,s.jsx)("div",{className:x("rounded-[32px] p-8",p[t],n),...r})}},6797:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(7573),r=n(7653),i=n(3986);function l(){let[e,t]=(0,r.useState)([]),[n,l]=(0,r.useState)(!0),[a,d]=(0,r.useState)(null);return(0,r.useEffect)(()=>{l(!0),fetch("/api/trust/admin/activity-log").then(e=>e.ok?e.json():Promise.reject(e.statusText)).then(e=>t(e)).catch(e=>d(String(e))).finally(()=>l(!1))},[]),(0,s.jsxs)(i.Zb,{className:"p-6 mt-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Activity Log"}),n&&(0,s.jsx)("div",{children:"Loading..."}),a&&(0,s.jsxs)("div",{className:"text-red-600",children:["Error: ",a]}),(0,s.jsxs)("ul",{className:"text-xs",children:[0===e.length&&!n&&(0,s.jsx)("li",{children:"No activity found."}),e.map((e,t)=>(0,s.jsxs)("li",{className:"mb-1",children:[(0,s.jsxs)("span",{className:"font-mono text-gray-500",children:["[",e.timestamp,"]"]})," ",e.message]},t))]})]})}},9750:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(7573),r=n(7653),i=n(3986);function l(){let[e,t]=(0,r.useState)(null),[n,l]=(0,r.useState)(!0),[a,d]=(0,r.useState)(null);return(0,r.useEffect)(()=>{l(!0),fetch("/api/trust/admin/metrics").then(e=>e.ok?e.json():Promise.reject(e.statusText)).then(e=>t(e)).catch(e=>d(String(e))).finally(()=>l(!1))},[]),(0,s.jsxs)(i.Zb,{className:"mb-8 p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Platform Metrics"}),n&&(0,s.jsx)("div",{children:"Loading..."}),a&&(0,s.jsxs)("div",{className:"text-red-600",children:["Error: ",a]}),e&&(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.totalUsers}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Total Users"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.activeUsers}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Active Users"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.signupsThisWeek}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Signups This Week"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.bannedUsers}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Banned Users"})]})]})]})}},335:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(7573),r=n(7653),i=n(3986);function l(){let[e,t]=(0,r.useState)(null),[n,l]=(0,r.useState)(!0),[a,d]=(0,r.useState)(null);return(0,r.useEffect)(()=>{l(!0),fetch("/api/trust/admin/health").then(e=>e.ok?e.json():Promise.reject(e.statusText)).then(e=>t(e)).catch(e=>d(String(e))).finally(()=>l(!1))},[]),(0,s.jsxs)(i.Zb,{className:"p-6 mt-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"System Health"}),n&&(0,s.jsx)("div",{children:"Loading..."}),a&&(0,s.jsxs)("div",{className:"text-red-600",children:["Error: ",a]}),e&&(0,s.jsx)("div",{className:"text-xs",children:(0,s.jsxs)("div",{children:["Status: ",(0,s.jsx)("span",{className:"ok"===e.status?"text-green-600":"text-red-600",children:e.status})]})})]})}},8581:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(7573),r=n(7653),i=n(3986);function l(){let[e,t]=(0,r.useState)(""),[n,l]=(0,r.useState)(null),[a,d]=(0,r.useState)(!1),[c,o]=(0,r.useState)(null),u=async()=>{d(!0),o(null),l(null);try{let t=await fetch("/api/trust/admin/users/".concat(e,"/verify"),{method:"PATCH"});if(!t.ok)throw Error(await t.text());l(await t.json())}catch(e){o(e.message||String(e))}finally{d(!1)}};return(0,s.jsxs)(i.Zb,{className:"p-6 mt-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Trust/Verification Override"}),(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsx)("input",{className:"border px-2 py-1 text-sm rounded",placeholder:"User ID",value:e,onChange:e=>t(e.target.value)}),(0,s.jsx)("button",{className:"text-xs text-green-600 border px-3 py-1 rounded",disabled:!e||a,onClick:u,children:a?"Verifying...":"Mark Verified"})]}),c&&(0,s.jsx)("div",{className:"text-red-600 text-xs",children:c}),n&&(0,s.jsxs)("div",{className:"text-green-700 text-xs",children:["User ",n.id," marked as verified."]})]})}},6071:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(7573),r=n(7653),i=n(3986);function l(){let[e,t]=(0,r.useState)([]),[n,l]=(0,r.useState)(0),[a,d]=(0,r.useState)(!0),[c,o]=(0,r.useState)(null),[u,f]=(0,r.useState)(null),x=()=>{d(!0),fetch("/api/trust/admin/users").then(e=>e.ok?e.json():Promise.reject(e.statusText)).then(e=>{t(e.users||[]),l(e.total||0)}).catch(e=>o(String(e))).finally(()=>d(!1))};(0,r.useEffect)(()=>{x()},[]);let h=async e=>{f(e+"-verify"),await fetch("/api/trust/admin/users/".concat(e,"/verify"),{method:"PATCH"}),x(),f(null)},m=async(e,t)=>{f(e+"-ban"),await fetch("/api/trust/admin/users/".concat(e,"/ban"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ban:t})}),x(),f(null)};return(0,s.jsxs)(i.Zb,{className:"p-6 mt-8",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"User Management"}),a&&(0,s.jsx)("div",{children:"Loading..."}),c&&(0,s.jsxs)("div",{className:"text-red-600",children:["Error: ",c]}),(0,s.jsxs)("div",{className:"mb-2 text-xs text-gray-500",children:["Total users: ",n]}),(0,s.jsxs)("table",{className:"w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left border-b",children:[(0,s.jsx)("th",{className:"py-2",children:"Email"}),(0,s.jsx)("th",{className:"py-2",children:"Display Name"}),(0,s.jsx)("th",{className:"py-2",children:"Role"}),(0,s.jsx)("th",{className:"py-2",children:"Status"}),(0,s.jsx)("th",{className:"py-2",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-b last:border-0",children:[(0,s.jsx)("td",{className:"py-2",children:e.email}),(0,s.jsx)("td",{className:"py-2",children:e.displayName}),(0,s.jsx)("td",{className:"py-2",children:e.role||("admin@amoravibe.com"===e.email?"admin":"user")}),(0,s.jsx)("td",{className:"py-2",children:e.banned?"banned":"active"}),(0,s.jsxs)("td",{className:"py-2 flex gap-2",children:[(0,s.jsx)("button",{className:"text-xs text-green-600 mr-2",disabled:u===e.id+"-verify"||e.isVerified,onClick:()=>h(e.id),children:e.isVerified?"Verified":u===e.id+"-verify"?"Verifying...":"Verify"}),(0,s.jsx)("button",{className:"text-xs text-red-600",disabled:u===e.id+"-ban",onClick:()=>m(e.id,!e.banned),children:u===e.id+"-ban"?e.banned?"Unbanning...":"Banning...":e.banned?"Unban":"Ban"})]})]},e.id))})]})]})}},897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let s=n(6463);function r(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return n}},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return i}});let s=n(7573),r=n(6138);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,r.getExpectedRequestStore)("next/dynamic css"),i=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));i.push(...t)}}return 0===i.length?null:(0,s.jsx)(s.Fragment,{children:i.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[293,286,744],function(){return e(e.s=385)}),_N_E=e.O()}]);